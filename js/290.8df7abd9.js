"use strict";(globalThis["webpackChunkNtrega"]=globalThis["webpackChunkNtrega"]||[]).push([[290],{290:(e,a,l)=>{l.r(a),l.d(a,{default:()=>_});var o=l(3396),r=l(7139);const t=e=>((0,o.dD)("data-v-2a403bfa"),e=e(),(0,o.Cn)(),e),i={key:0},n=["src"],s=["src","alt"],c=t((()=>(0,o._)("footer",null,"Entre com sua conta",-1))),u=["src","alt"];function g(e,a,l,t,g,d){const p=(0,o.up)("v-progress-circular"),m=(0,o.up)("v-btn");return(0,o.wg)(),(0,o.iD)("main",null,[(0,o._)("section",null,[g.loading?((0,o.wg)(),(0,o.iD)("figure",i,[(0,o._)("img",{src:`${d.baseUrl}img/social/${g.loading}-color.svg`,alt:"Rede social"},null,8,n),(0,o.Wm)(p,{indeterminate:"",size:56,color:"primary"})])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("figure",null,[(0,o._)("img",{src:`${d.baseUrl}img/icons/android-chrome-192x192.png`,alt:g.appName},null,8,s),(0,o._)("figcaption",null,[(0,o._)("h1",null,(0,r.zw)(g.appName),1)])]),c,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(g.providers,((e,a)=>((0,o.wg)(),(0,o.j4)(m,{icon:"",key:a,class:(0,r.C_)(e),onClick:a=>d.requestLogin(e)},{default:(0,o.w5)((()=>[(0,o._)("img",{src:`${d.baseUrl}img/social/${e}.svg`,alt:e},null,8,u)])),_:2},1032,["class","onClick"])))),128))],64))])])}l(7658);var d=l(5734),p=l(4582),m=l(4147);const h={computed:{baseUrl(){return"/"}},data(){return{appName:m.u2.replace(/-/," "),providers:["google","microsoft"],loading:null}},methods:{requestLogin(e){this.loading=e,this.$router.push({params:{provider:e}}).catch((e=>{})),"google"==e&&(e=new p.hJ),"microsoft"==e&&(e=new p.O4("microsoft.com")),(0,p.rh)(d.I,e).then((e=>{if(!e)return;let a=e.user.providerData[0];a.socialId=a.uid,a.id=e.user.uid,a.name=a.displayName,delete a.uid,delete a.displayName,this.$auth.authenticate({user:a,accessToken:e.user.accessToken},localStorage.getItem("pendingPath")),localStorage.removeItem("pendingPath")})).catch((e=>{console.log(e),this.$store.dispatch("openAlert",{text:"Falha ao fazer o login. Tente novamente",color:"error"})})).finally((()=>{this.loading=null}))}}};var f=l(89);const v=(0,f.Z)(h,[["render",g],["__scopeId","data-v-2a403bfa"]]),_=v}}]);