"use strict";(globalThis["webpackChunkNtrega"]=globalThis["webpackChunkNtrega"]||[]).push([[181],{181:(e,a,o)=>{o.r(a),o.d(a,{default:()=>_});var r=o(3396),l=o(7139);const t=e=>((0,r.dD)("data-v-fdc88a92"),e=e(),(0,r.Cn)(),e),i={key:0},n=["src"],s=["src","alt"],c=t((()=>(0,r._)("footer",null,"Entre com sua conta",-1))),u=["src","alt"];function g(e,a,o,t,g,d){const p=(0,r.up)("v-progress-circular"),m=(0,r.up)("v-btn");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r._)("section",null,[g.loading?((0,r.wg)(),(0,r.iD)("figure",i,[(0,r._)("img",{src:`${d.baseUrl}img/social/${g.loading}-color.svg`,alt:"Rede social"},null,8,n),(0,r.Wm)(p,{indeterminate:"",size:56,color:"primary"})])):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r._)("figure",null,[(0,r._)("img",{src:`${d.baseUrl}img/icons/android-chrome-192x192.png`,alt:g.appName},null,8,s),(0,r._)("figcaption",null,[(0,r._)("h1",null,(0,l.zw)(g.appName),1)])]),c,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.providers,((e,a)=>((0,r.wg)(),(0,r.j4)(m,{icon:"",key:a,class:(0,l.C_)(e),onClick:a=>d.requestLogin(e)},{default:(0,r.w5)((()=>[(0,r._)("img",{src:`${d.baseUrl}img/social/${e}.svg`,alt:e},null,8,u)])),_:2},1032,["class","onClick"])))),128))],64))])])}o(7658);var d=o(4147),p=o(5734),m=o(4582);const h={computed:{baseUrl(){return"/"}},data(){return{appName:d.u2.replace(/-/," "),providers:["google","microsoft"],loading:null}},methods:{requestLogin(e){this.loading=e,this.$router.push({params:{provider:e}}).catch((e=>{})),"google"==e&&(e=new m.hJ),"microsoft"==e&&(e=new m.O4("microsoft.com")),(0,m.rh)(p.I,e).then((e=>{if(!e)return;let a=e.user.providerData[0];a.socialId=a.uid,a.id=e.user.uid,delete a.uid,this.$auth.authenticate({user:a,accessToken:e.user.accessToken},localStorage.getItem("pendingPath")),localStorage.removeItem("pendingPath")})).catch((e=>{console.log(e),this.$store.dispatch("openAlert",{text:"Falha ao fazer o login. Tente novamente",color:"error"})})).finally((()=>{this.loading=null}))}}};var f=o(89);const v=(0,f.Z)(h,[["render",g],["__scopeId","data-v-fdc88a92"]]),_=v}}]);